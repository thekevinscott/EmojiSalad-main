/*
 * Provides a synchronous wrapper around NetInfo,
 * for use in middleware and other goodies.
 */
import {
  NetInfo,
} from 'react-native';

let status;
const updateStatus = reach => {
  status = reach;
};

const VALID_STATII = [
  'wifi',
  'cell',
];

NetInfo.fetch().done(updateStatus);
NetInfo.addEventListener(
  'change',
  updateStatus,
);

const Network = {
  hasStatus: () => VALID_STATII.indexOf(status) !== -1,
};

export default Network;
