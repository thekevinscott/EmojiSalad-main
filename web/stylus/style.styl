@import url('https://fonts.googleapis.com/css?family=Inconsolata:400,700|Sigmar+One|Luckiest+Guy|Alegreya+Sans+SC:900|Paytone+One|Fascinate')

sans-font = 'Paytone One', 'Arial Black', Arial, sans-serif
// sans-font = 'Sigmar One', 'Arial Black', Arial, sans-serif
body-font = Inconsolata, Courier, 'Courier New', serif
duration = 0.4s

bg-color = rgb(255,124,129)
dark-accent = rgb(255,95,95)
light-accent = rgb(255,141,144)
focus-accent = rgb(252,249,121)
accent-yellow = rgb(252,249,121)
dark-grey = rgb(149, 168, 178)

// global styles

body
  background-color bg-color
  text-align center
  color black

h1
  font 5rem/5rem sans-font
  text-transform uppercase
  letter-spacing 2px
  color white
  -webkit-text-stroke 1px black
  text-shadow 7px 7px 0 #000, -3px -3px 0 #000,  3px -3px 0 #000, -3px 3px 0 #000, 3px 3px 0 #000

h2
  font 400 1.75rem/1.75rem body-font

h3
  margin-bottom 20px
  font 900 1.75rem/1.75rem sans-font
  text-transform uppercase
  letter-spacing 2px
  color white

p
  font 400 1.125rem/1.4rem body-font

form, .test-container
  margin-top 20px

.module
  padding 50px 0 50px 0

.bg-dotted
  background-image radial-gradient(dark-accent 15%, transparent 16%), radial-gradient(dark-accent 15%, transparent 16%)
  background-size 20px 20px
  background-position 0 0, 10px 10px

.bg-dark // including jagged edges
  background-color dark-accent
  &:before, &:after /* TODO Add browser prefixes */
    z-index 10
    content ""
    position relative
    display block
    height 20px
    left 0
    right 0
    background:
      linear-gradient(45deg, transparent 33.333%, dark-accent 33.333%, dark-accent 66.667%, transparent 66.667%),
      linear-gradient(-45deg, transparent 33.333%, dark-accent 33.333%, dark-accent 66.667%, transparent 66.667%)
    background-size 20px 40px; /* toothSize doubleHeight */
  &:before
    top -70px // -(height + parent module padding)
    background-position 10px 0; /* horizontalOffset -height */
  &:after
    bottom -70px // -(height + parent module padding)
    background-position 10px -20px; /* horizontalOffset -height */

.bg-dark-grey
  background-color dark-grey

.bg-white
  background-color white
  border 4px solid black
  border-radius 3px
  -webkit-appearance none
  appearance none
  
.bg-yellow
  background-color accent-yellow
  border 4px solid black
  border-radius 3px
  -webkit-appearance none
  appearance none

.masthead
  height 320px
  display flex
  padding 40px
  text-align left    

.title
  flex 1

.demo
  flex 2
  width 400px
  text-align left
  position relative
  padding-left 200px
  transition-duration: duration


input[type='text']
  display inline-block
  padding 10px 0 13px 0
  font 400 1.75rem/1.75rem body-font
  text-align center
  &:focus
    border-color dark-accent

input[type='submit']
  display inline-block
  margin-left 10px
  padding 15px 20px 17px 20px
  font 400 1.125rem/1.125rem sans-font
  text-align center
  text-transform uppercase
  &:focus
    border-color dark-accent

.test-container
  padding-left 200px
  height 220px
  // .test
  //   display inline-block
  .card
    width 600px
    height 200px
    line-height 200px
    position relative
    z-index 2
    p
      display inline-block
      vertical-align middle
  .card:nth-child(2)
    top -194px
    left: 15px
    z-index 1

// .phone
//   padding 20px
//   font-size 24px
//   display block
//   margin 0 auto

border-size = 4px
message-width = 200px
message-height = 100px
offset = 15px

.messages
  width 500px
  overflow hidden
  height 112%
  position relative

.message
  position: absolute
  width: message-width + (border-size * 2) + offset
  top 110%
  clear both
  margin-bottom 60px
  transition-duration duration; 

  &.left
    float: left

  &.right
    float: right
    right 0

  p
    padding: 20px;

  .card
    position relative
    width: message-width 
    height: message-height

  .bg-white
    z-index 2

  .bg-yellow 
    top: offset;
    left: offset 
    z-index 1
    position: relative;
    position absolute

  .arrow
    position absolute
    border: 25px solid;
    border-color: black transparent transparent black;
    width: 0;
    height: 0;
    bottom -(50 + (border-size))px
    left 0
    z-index 2
    
  .inner-arrow
    border: 18px solid;
    border-color: white transparent transparent white;
    top -(25 - border-size)px
    left -(25 - border-size)px
    z-index 3

  .bg-arrow
    border-color: white transparent transparent white;
    left: -21px;
    top: -35px;

  .main-arrow
    left: 20px

  &.right
    .arrow
      left auto
      position absolute
      border-color: black black transparent transparent ;
      right 0
      
    .inner-arrow
      border-color: white white transparent transparent;
      right -(25 - border-size)px

    .bg-arrow
      border-color: white white transparent transparent;
      right: -21px;

    .main-arrow
      left auto
      right: 20px

.bg-white
  .bg-arrow, .inner-arrow
    border-color: white transparent transparent white;

.bg-yellow
  .bg-arrow, .inner-arrow
    border-color: accent-yellow transparent transparent accent-yellow;

.right
  .bg-yellow
    .bg-arrow, .inner-arrow
      border-color: accent-yellow accent-yellow transparent transparent;
